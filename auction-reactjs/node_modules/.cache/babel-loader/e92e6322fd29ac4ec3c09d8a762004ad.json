{"ast":null,"code":"import * as ACTIONS from './Constants';\nimport { login, signup } from '../Api/ApiCalls';\nexport const logoutSuccess = () => {\n  return {\n    type: ACTIONS.LOGOUT_SUCCESS\n  };\n};\nexport const loginSuccess = authState => {\n  return {\n    type: ACTIONS.LOGIN_SUCCESS,\n    payload: authState\n  };\n};\nexport const loginHandler = creds => {\n  return async function (dispatch) {\n    const response = await login(creds); //api process\n\n    const authState = { //basic auth\n      ...response.data,\n      //username,fullname,image,email\n      password: creds.password,\n      //response de gelmiyor\n      roles: response.data.role\n    };\n    dispatch(loginSuccess(authState));\n    return response;\n  };\n};\nexport const signupHandler = user => {\n  return async function (dispatch) {\n    const response = await signup(user); //api process\n\n    await dispatch(loginHandler(user));\n    return response;\n  };\n};\nexport const updateSuccess = _ref => {\n  let {\n    name,\n    image\n  } = _ref;\n  return {\n    type: ACTIONS.UPDATE_SUCCESS,\n    payload: {\n      name,\n      image\n    }\n  };\n};","map":{"version":3,"names":["ACTIONS","login","signup","logoutSuccess","type","LOGOUT_SUCCESS","loginSuccess","authState","LOGIN_SUCCESS","payload","loginHandler","creds","dispatch","response","data","password","roles","role","signupHandler","user","updateSuccess","name","image","UPDATE_SUCCESS"],"sources":["C:/Users/bar1s/Desktop/Online-Auction-Website-master/auction-reactjs/src/Redux/Actions.js"],"sourcesContent":["import * as ACTIONS from './Constants'\nimport { login, signup } from '../Api/ApiCalls';\n\nexport const logoutSuccess = () => {\n    return {\n        type: ACTIONS.LOGOUT_SUCCESS\n    }\n};\n\nexport const loginSuccess = (authState) => {\n    return {\n        type: ACTIONS.LOGIN_SUCCESS,\n        payload: authState\n    }\n}\n\nexport const loginHandler = (creds) => {\n    return async function (dispatch) {\n        const response = await login(creds);  //api process\n       \n        const authState = {\n            //basic auth\n            ...response.data,//username,fullname,image,email\n            password: creds.password,//response de gelmiyor\n            roles: response.data.role\n        }\n        dispatch(loginSuccess(authState));\n        return response;\n    }\n}\n\nexport const signupHandler = (user) => {\n    return async function (dispatch) {\n        const response = await signup(user);  //api process\n\n        \n        await dispatch(loginHandler(user))\n        return response;\n    }\n}\n\nexport const updateSuccess = ({ name, image }) => {\n    return {\n        type: ACTIONS.UPDATE_SUCCESS,\n        payload: { name, image }\n    }\n}\n\n"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,aAAzB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,iBAA9B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;EAC/B,OAAO;IACHC,IAAI,EAAEJ,OAAO,CAACK;EADX,CAAP;AAGH,CAJM;AAMP,OAAO,MAAMC,YAAY,GAAIC,SAAD,IAAe;EACvC,OAAO;IACHH,IAAI,EAAEJ,OAAO,CAACQ,aADX;IAEHC,OAAO,EAAEF;EAFN,CAAP;AAIH,CALM;AAOP,OAAO,MAAMG,YAAY,GAAIC,KAAD,IAAW;EACnC,OAAO,gBAAgBC,QAAhB,EAA0B;IAC7B,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACU,KAAD,CAA5B,CAD6B,CACS;;IAEtC,MAAMJ,SAAS,GAAG,EACd;MACA,GAAGM,QAAQ,CAACC,IAFE;MAEG;MACjBC,QAAQ,EAAEJ,KAAK,CAACI,QAHF;MAGW;MACzBC,KAAK,EAAEH,QAAQ,CAACC,IAAT,CAAcG;IAJP,CAAlB;IAMAL,QAAQ,CAACN,YAAY,CAACC,SAAD,CAAb,CAAR;IACA,OAAOM,QAAP;EACH,CAXD;AAYH,CAbM;AAeP,OAAO,MAAMK,aAAa,GAAIC,IAAD,IAAU;EACnC,OAAO,gBAAgBP,QAAhB,EAA0B;IAC7B,MAAMC,QAAQ,GAAG,MAAMX,MAAM,CAACiB,IAAD,CAA7B,CAD6B,CACS;;IAGtC,MAAMP,QAAQ,CAACF,YAAY,CAACS,IAAD,CAAb,CAAd;IACA,OAAON,QAAP;EACH,CAND;AAOH,CARM;AAUP,OAAO,MAAMO,aAAa,GAAG,QAAqB;EAAA,IAApB;IAAEC,IAAF;IAAQC;EAAR,CAAoB;EAC9C,OAAO;IACHlB,IAAI,EAAEJ,OAAO,CAACuB,cADX;IAEHd,OAAO,EAAE;MAAEY,IAAF;MAAQC;IAAR;EAFN,CAAP;AAIH,CALM"},"metadata":{},"sourceType":"module"}