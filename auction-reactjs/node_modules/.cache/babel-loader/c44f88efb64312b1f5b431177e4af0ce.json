{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import*as ACTIONS from'./Constants';import{login,signup}from'../Api/ApiCalls';export var logoutSuccess=function logoutSuccess(){return{type:ACTIONS.LOGOUT_SUCCESS};};export var loginSuccess=function loginSuccess(authState){return{type:ACTIONS.LOGIN_SUCCESS,payload:authState};};export var loginHandler=function loginHandler(creds){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response,authState;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return login(creds);case 2:response=_context.sent;//api process\nauthState=_objectSpread(_objectSpread({},response.data),{},{//username,fullname,image,email\npassword:creds.password,//response de gelmiyor\nroles:response.data.role});dispatch(loginSuccess(authState));return _context.abrupt(\"return\",response);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signupHandler=function signupHandler(user){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return signup(user);case 2:response=_context2.sent;_context2.next=5;return dispatch(loginHandler(user));case 5:return _context2.abrupt(\"return\",response);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updateSuccess=function updateSuccess(_ref3){var name=_ref3.name,image=_ref3.image;return{type:ACTIONS.UPDATE_SUCCESS,payload:{name:name,image:image}};};","map":{"version":3,"names":["ACTIONS","login","signup","logoutSuccess","type","LOGOUT_SUCCESS","loginSuccess","authState","LOGIN_SUCCESS","payload","loginHandler","creds","dispatch","response","data","password","roles","role","signupHandler","user","updateSuccess","name","image","UPDATE_SUCCESS"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Redux/Actions.js"],"sourcesContent":["import * as ACTIONS from './Constants'\r\nimport { login, signup } from '../Api/ApiCalls';\r\n\r\nexport const logoutSuccess = () => {\r\n    return {\r\n        type: ACTIONS.LOGOUT_SUCCESS\r\n    }\r\n};\r\n\r\nexport const loginSuccess = (authState) => {\r\n    return {\r\n        type: ACTIONS.LOGIN_SUCCESS,\r\n        payload: authState\r\n    }\r\n}\r\n\r\nexport const loginHandler = (creds) => {\r\n    return async function (dispatch) {\r\n        const response = await login(creds);  //api process\r\n       \r\n        const authState = {\r\n            //basic auth\r\n            ...response.data,//username,fullname,image,email\r\n            password: creds.password,//response de gelmiyor\r\n            roles: response.data.role\r\n        }\r\n        dispatch(loginSuccess(authState));\r\n        return response;\r\n    }\r\n}\r\n\r\nexport const signupHandler = (user) => {\r\n    return async function (dispatch) {\r\n        const response = await signup(user);  //api process\r\n\r\n        \r\n        await dispatch(loginHandler(user))\r\n        return response;\r\n    }\r\n}\r\n\r\nexport const updateSuccess = ({ name, image }) => {\r\n    return {\r\n        type: ACTIONS.UPDATE_SUCCESS,\r\n        payload: { name, image }\r\n    }\r\n}\r\n\r\n"],"mappings":"6XAAA,MAAO,GAAKA,QAAZ,KAAyB,aAAzB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,iBAA9B,CAEA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC/B,MAAO,CACHC,IAAI,CAAEJ,OAAO,CAACK,cADX,CAAP,CAGH,CAJM,CAMP,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,SAAD,CAAe,CACvC,MAAO,CACHH,IAAI,CAAEJ,OAAO,CAACQ,aADX,CAEHC,OAAO,CAAEF,SAFN,CAAP,CAIH,CALM,CAOP,MAAO,IAAMG,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CACnC,iGAAO,iBAAgBC,QAAhB,iKACoBX,MAAK,CAACU,KAAD,CADzB,QACGE,QADH,eACmC;AAEhCN,SAHH,gCAKIM,QAAQ,CAACC,IALb,MAKkB;AACjBC,QAAQ,CAAEJ,KAAK,CAACI,QANjB,CAM0B;AACzBC,KAAK,CAAEH,QAAQ,CAACC,IAAT,CAAcG,IAPtB,GASHL,QAAQ,CAACN,YAAY,CAACC,SAAD,CAAb,CAAR,CATG,gCAUIM,QAVJ,wDAAP,+DAYH,CAbM,CAeP,MAAO,IAAMK,cAAa,CAAG,QAAhBA,cAAgB,CAACC,IAAD,CAAU,CACnC,kGAAO,kBAAgBP,QAAhB,4JACoBV,OAAM,CAACiB,IAAD,CAD1B,QACGN,QADH,uCAIGD,SAAQ,CAACF,YAAY,CAACS,IAAD,CAAb,CAJX,yCAKIN,QALJ,0DAAP,iEAOH,CARM,CAUP,MAAO,IAAMO,cAAa,CAAG,QAAhBA,cAAgB,OAAqB,IAAlBC,KAAkB,OAAlBA,IAAkB,CAAZC,KAAY,OAAZA,KAAY,CAC9C,MAAO,CACHlB,IAAI,CAAEJ,OAAO,CAACuB,cADX,CAEHd,OAAO,CAAE,CAAEY,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAFN,CAAP,CAIH,CALM"},"metadata":{},"sourceType":"module"}