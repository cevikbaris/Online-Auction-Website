{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bar1s\\\\Desktop\\\\react\\\\auction\\\\src\\\\Components\\\\UserList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { getUsers } from '../Api/ApiCalls';\nimport Spinner from './Spinner';\nimport { useApiProgress } from '../Shared/ApiProgress';\nimport UserInList from './UserInList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserList = () => {\n  _s();\n\n  const [page, setPage] = useState({\n    content: [],\n    size: 5,\n    number: 0\n  });\n  const [loadFailure, setLoadFailure] = useState(false);\n  const pendingApiCall = useApiProgress('get', '/users?page');\n  useEffect(() => {\n    loadUsers();\n  }, []); //componentDidMount() call if array empty.\n\n  const loadUsers = async page => {\n    setLoadFailure(false);\n\n    try {\n      const response = await getUsers(page);\n      setPage(response.data);\n    } catch (error) {\n      setLoadFailure(true);\n    }\n  };\n\n  const onClickNext = () => {\n    const nextPage = page.number + 1;\n    loadUsers(nextPage);\n  };\n\n  const onClickPrevious = () => {\n    const previousPage = page.number - 1;\n    loadUsers(previousPage);\n  }; //last first component içinde varlar componente bak page içinde\n\n\n  const {\n    content: users,\n    last,\n    first\n  } = page;\n\n  let actionDiv = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [first === false && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-sm btn-light\",\n      onClick: onClickPrevious,\n      children: \"Previous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), last === false && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-sm btn-light float-right\",\n      onClick: onClickNext,\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n\n  if (pendingApiCall) {\n    actionDiv = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"card-header\",\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-group-flush\",\n      children: users.map(user => /*#__PURE__*/_jsxDEV(UserInList, {\n        user: user\n      }, user.username, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), actionDiv, loadFailure && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-danger\",\n      children: \" Failed to load users \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserList, \"SsaVokBY2S1nefXnK28HY6wufJc=\", false, function () {\n  return [useApiProgress];\n});\n\n_c = UserList;\nexport default UserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useState","useEffect","getUsers","Spinner","useApiProgress","UserInList","UserList","page","setPage","content","size","number","loadFailure","setLoadFailure","pendingApiCall","loadUsers","response","data","error","onClickNext","nextPage","onClickPrevious","previousPage","users","last","first","actionDiv","map","user","username"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Components/UserList.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useEffect } from 'react';\r\nimport { getUsers } from '../Api/ApiCalls';\r\nimport Spinner from './Spinner'\r\nimport { useApiProgress } from '../Shared/ApiProgress';\r\nimport UserInList from './UserInList'\r\n\r\nconst UserList = () => {\r\n\r\n    const [page, setPage] = useState({\r\n        content: [],\r\n        size: 5,\r\n        number: 0\r\n    });\r\n\r\n    const [loadFailure, setLoadFailure] = useState(false);\r\n    \r\n    const pendingApiCall = useApiProgress('get','/users?page');\r\n\r\n    useEffect(() => {\r\n        loadUsers();\r\n    }, []); //componentDidMount() call if array empty.\r\n\r\n    const loadUsers =async page => {\r\n        setLoadFailure(false);\r\n        try{\r\n            const response = await getUsers(page);\r\n            setPage(response.data);  \r\n        } catch(error){\r\n            setLoadFailure(true);\r\n        }\r\n        \r\n    }\r\n\r\n    const onClickNext = () => {\r\n        const nextPage = page.number + 1;\r\n        loadUsers(nextPage);\r\n    }\r\n    const onClickPrevious = () => {\r\n        const previousPage = page.number - 1;\r\n        loadUsers(previousPage);\r\n    }\r\n\r\n\r\n    //last first component içinde varlar componente bak page içinde\r\n    const { content: users, last, first } = page;\r\n\r\n    let actionDiv = (\r\n        <div>\r\n            {first === false && (\r\n                <button className=\"btn btn-sm btn-light\" onClick={onClickPrevious}>\r\n                    Previous\r\n                </button>\r\n            )}\r\n            {last === false && (\r\n                <button className=\"btn btn-sm btn-light float-right\" onClick={onClickNext}>\r\n                    Next\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    if (pendingApiCall) {\r\n        actionDiv = <Spinner/>\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='card'>\r\n            <h3 className='card-header'>Users</h3>\r\n            <div className='list-group-flush'>\r\n                {users.map(user => (\r\n                    <UserInList key={user.username} user={user} />\r\n                    \r\n                ))}\r\n            </div>\r\n            {actionDiv}\r\n            {loadFailure && <div className='text-center text-danger'> Failed to load users </div>}\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default UserList;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAEnB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC;IAC7BS,OAAO,EAAE,EADoB;IAE7BC,IAAI,EAAE,CAFuB;IAG7BC,MAAM,EAAE;EAHqB,CAAD,CAAhC;EAMA,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,KAAD,CAA9C;EAEA,MAAMc,cAAc,GAAGV,cAAc,CAAC,KAAD,EAAO,aAAP,CAArC;EAEAH,SAAS,CAAC,MAAM;IACZc,SAAS;EACZ,CAFQ,EAEN,EAFM,CAAT,CAZmB,CAcX;;EAER,MAAMA,SAAS,GAAE,MAAMR,IAAN,IAAc;IAC3BM,cAAc,CAAC,KAAD,CAAd;;IACA,IAAG;MACC,MAAMG,QAAQ,GAAG,MAAMd,QAAQ,CAACK,IAAD,CAA/B;MACAC,OAAO,CAACQ,QAAQ,CAACC,IAAV,CAAP;IACH,CAHD,CAGE,OAAMC,KAAN,EAAY;MACVL,cAAc,CAAC,IAAD,CAAd;IACH;EAEJ,CATD;;EAWA,MAAMM,WAAW,GAAG,MAAM;IACtB,MAAMC,QAAQ,GAAGb,IAAI,CAACI,MAAL,GAAc,CAA/B;IACAI,SAAS,CAACK,QAAD,CAAT;EACH,CAHD;;EAIA,MAAMC,eAAe,GAAG,MAAM;IAC1B,MAAMC,YAAY,GAAGf,IAAI,CAACI,MAAL,GAAc,CAAnC;IACAI,SAAS,CAACO,YAAD,CAAT;EACH,CAHD,CA/BmB,CAqCnB;;;EACA,MAAM;IAAEb,OAAO,EAAEc,KAAX;IAAkBC,IAAlB;IAAwBC;EAAxB,IAAkClB,IAAxC;;EAEA,IAAImB,SAAS,gBACT;IAAA,WACKD,KAAK,KAAK,KAAV,iBACG;MAAQ,SAAS,EAAC,sBAAlB;MAAyC,OAAO,EAAEJ,eAAlD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFR,EAMKG,IAAI,KAAK,KAAT,iBACG;MAAQ,SAAS,EAAC,kCAAlB;MAAqD,OAAO,EAAEL,WAA9D;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPR;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;;EAeA,IAAIL,cAAJ,EAAoB;IAChBY,SAAS,gBAAG,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QAAZ;EACH;;EAGD,oBACI;IAAK,SAAS,EAAC,MAAf;IAAA,wBACI;MAAI,SAAS,EAAC,aAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAK,SAAS,EAAC,kBAAf;MAAA,UACKH,KAAK,CAACI,GAAN,CAAUC,IAAI,iBACX,QAAC,UAAD;QAAgC,IAAI,EAAEA;MAAtC,GAAiBA,IAAI,CAACC,QAAtB;QAAA;QAAA;QAAA;MAAA,QADH;IADL;MAAA;MAAA;MAAA;IAAA,QAFJ,EAQKH,SARL,EASKd,WAAW,iBAAI;MAAK,SAAS,EAAC,yBAAf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QATpB;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAcH,CA1ED;;GAAMN,Q;UAUqBF,c;;;KAVrBE,Q;AA2EN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}