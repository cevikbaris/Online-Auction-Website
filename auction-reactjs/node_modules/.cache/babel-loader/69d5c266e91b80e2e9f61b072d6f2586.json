{"ast":null,"code":"import{applyMiddleware,createStore,compose}from'redux';import authReducer from'./Reducer';import SecureLS from'secure-ls';import thunk from'redux-thunk';import{setAuthorizationHeader}from'../Api/ApiCalls';var securels=new SecureLS();//securels automatically encrypts the data and convert json\nvar getStateFromStorage=function getStateFromStorage(){//storage'dan state çek\nvar localUser=securels.get('local-user');//get with key\nvar stateInLocalStorage={//storage'dan gelen state boşsa bunu dön\nisLoggedIn:false,name:undefined,username:undefined,email:undefined,image:undefined,password:undefined,roles:[],isApproved:false};if(localUser){//storage'dan gelen state varsa\nreturn localUser;}return stateInLocalStorage;};var updateStateInStorage=function updateStateInStorage(newState){securels.set('local-user',newState);//key value\n};var configureStore=function configureStore(){//ilk başlangıc değerlerimiz. loggedInState ile birlikte kullanıcı giriş yapmış şekilde başlar\nvar initialState=getStateFromStorage();setAuthorizationHeader(initialState);var composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose;var store=createStore(authReducer,getStateFromStorage(),composeEnhancers(applyMiddleware(thunk)));//thunk  authActionsda fonksiyon return ettiğimiz için lazım\nstore.subscribe(function(){updateStateInStorage(store.getState());setAuthorizationHeader(store.getState());});return store;};export default configureStore;","map":{"version":3,"names":["applyMiddleware","createStore","compose","authReducer","SecureLS","thunk","setAuthorizationHeader","securels","getStateFromStorage","localUser","get","stateInLocalStorage","isLoggedIn","name","undefined","username","email","image","password","roles","isApproved","updateStateInStorage","newState","set","configureStore","initialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","subscribe","getState"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Redux/ConfigureStore.js"],"sourcesContent":["import { applyMiddleware, createStore, compose } from 'redux';\r\nimport authReducer from './Reducer';\r\nimport SecureLS from 'secure-ls';\r\nimport thunk from 'redux-thunk';\r\nimport { setAuthorizationHeader } from '../Api/ApiCalls';\r\n\r\nconst securels = new SecureLS();\r\n//securels automatically encrypts the data and convert json\r\n\r\nconst getStateFromStorage = () => { //storage'dan state çek\r\n\r\n    const localUser = securels.get('local-user');//get with key\r\n\r\n    let stateInLocalStorage = { //storage'dan gelen state boşsa bunu dön\r\n        isLoggedIn: false,\r\n        name:undefined,\r\n        username: undefined,\r\n        email: undefined,\r\n        image: undefined,\r\n        password: undefined,\r\n        roles:[],\r\n        isApproved:false\r\n    };\r\n\r\n    if (localUser) { //storage'dan gelen state varsa\r\n        return localUser;\r\n    }\r\n\r\n    return stateInLocalStorage;\r\n}\r\n\r\nconst updateStateInStorage = newState => {\r\n    securels.set('local-user', newState); //key value\r\n}\r\n\r\nconst configureStore = () => { //ilk başlangıc değerlerimiz. loggedInState ile birlikte kullanıcı giriş yapmış şekilde başlar\r\n   \r\n    const initialState=getStateFromStorage();\r\n    setAuthorizationHeader(initialState);\r\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n    const store = createStore(authReducer, getStateFromStorage(),composeEnhancers(applyMiddleware(thunk) )); \r\n    //thunk  authActionsda fonksiyon return ettiğimiz için lazım\r\n   \r\n    store.subscribe(() => { \r\n        updateStateInStorage(store.getState());\r\n        setAuthorizationHeader(store.getState());\r\n    });\r\n    return store;\r\n}\r\n\r\nexport default configureStore;"],"mappings":"AAAA,OAASA,eAAT,CAA0BC,WAA1B,CAAuCC,OAAvC,KAAsD,OAAtD,CACA,MAAOC,YAAP,KAAwB,WAAxB,CACA,MAAOC,SAAP,KAAqB,WAArB,CACA,MAAOC,MAAP,KAAkB,aAAlB,CACA,OAASC,sBAAT,KAAuC,iBAAvC,CAEA,GAAMC,SAAQ,CAAG,GAAIH,SAAJ,EAAjB,CACA;AAEA,GAAMI,oBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAAE;AAEhC,GAAMC,UAAS,CAAGF,QAAQ,CAACG,GAAT,CAAa,YAAb,CAAlB,CAA6C;AAE7C,GAAIC,oBAAmB,CAAG,CAAE;AACxBC,UAAU,CAAE,KADU,CAEtBC,IAAI,CAACC,SAFiB,CAGtBC,QAAQ,CAAED,SAHY,CAItBE,KAAK,CAAEF,SAJe,CAKtBG,KAAK,CAAEH,SALe,CAMtBI,QAAQ,CAAEJ,SANY,CAOtBK,KAAK,CAAC,EAPgB,CAQtBC,UAAU,CAAC,KARW,CAA1B,CAWA,GAAIX,SAAJ,CAAe,CAAE;AACb,MAAOA,UAAP,CACH,CAED,MAAOE,oBAAP,CACH,CApBD,CAsBA,GAAMU,qBAAoB,CAAG,QAAvBA,qBAAuB,CAAAC,QAAQ,CAAI,CACrCf,QAAQ,CAACgB,GAAT,CAAa,YAAb,CAA2BD,QAA3B,EAAsC;AACzC,CAFD,CAIA,GAAME,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAAE;AAE3B,GAAMC,aAAY,CAACjB,mBAAmB,EAAtC,CACAF,sBAAsB,CAACmB,YAAD,CAAtB,CACA,GAAMC,iBAAgB,CAAGC,MAAM,CAACC,oCAAP,EAA+C1B,OAAxE,CACA,GAAM2B,MAAK,CAAG5B,WAAW,CAACE,WAAD,CAAcK,mBAAmB,EAAjC,CAAoCkB,gBAAgB,CAAC1B,eAAe,CAACK,KAAD,CAAhB,CAApD,CAAzB,CACA;AAEAwB,KAAK,CAACC,SAAN,CAAgB,UAAM,CAClBT,oBAAoB,CAACQ,KAAK,CAACE,QAAN,EAAD,CAApB,CACAzB,sBAAsB,CAACuB,KAAK,CAACE,QAAN,EAAD,CAAtB,CACH,CAHD,EAIA,MAAOF,MAAP,CACH,CAbD,CAeA,cAAeL,eAAf"},"metadata":{},"sourceType":"module"}