{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{getByIdIdentity}from'../Api/ApiCalls';import{useParams}from'react-router-dom';import ButtonWithProgress from'./ButtonWithProgress';import{approveUser,deleteIdentity}from'../Api/ApiCalls';import Modal from'./Modal';import{useApiProgress}from'../Shared/ApiProgress';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserAuth=function UserAuth(props){var _useParams=useParams(),idNumber=_useParams.idNumber;var _useState=useState(),_useState2=_slicedToArray(_useState,2),identity=_useState2[0],setIdentity=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalVisible=_useState4[0],setModalVisible=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modalReject=_useState6[0],setModalReject=_useState6[1];useEffect(function(){loadPage();},[]);var loadPage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getByIdIdentity(idNumber);case 3:response=_context.sent;setIdentity(response.data);_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setIdentity(undefined);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function loadPage(){return _ref.apply(this,arguments);};}();var onClickConfirm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return approveUser(idNumber);case 3:response=_context2.sent;console.log(response);props.history.push('/admin');_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function onClickConfirm(){return _ref2.apply(this,arguments);};}();var onClickReject=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return deleteIdentity(idNumber);case 3:props.history.push('/admin');_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function onClickReject(){return _ref3.apply(this,arguments);};}();var pendingApiCall=useApiProgress('put',\"/users/update/\".concat(idNumber));var pendingApiCallReject=useApiProgress('delete',\"/identity/user/\".concat(idNumber));return/*#__PURE__*/_jsxs(\"div\",{className:\"container card\",style:{background:'#f3f5f5'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center card-header\",children:\"User ID Authentication\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[identity&&/*#__PURE__*/_jsx(\"img\",{className:\"img-thumbnail\",width:\"600\",height:\"600\",src:'/images/identity/'+identity.imageId,alt:identity.id}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"ID Number =  \",identity&&identity.idNumber,\" \"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(ButtonWithProgress,{onClick:function onClick(){return setModalVisible(true);},text:\"Confirm User\",className:\"my-4 btn btn-success\"}),/*#__PURE__*/_jsx(ButtonWithProgress,{onClick:function onClick(){return setModalReject(true);},text:\"Reject\",className:\"my-4 btn btn-danger ml-5\"})]}),/*#__PURE__*/_jsx(Modal,{visible:modalVisible,onClickCancel:function onClickCancel(){return setModalVisible(false);},onClickOk:onClickConfirm,pendingApiCall:pendingApiCall,title:\"Authentication Confirmation\",okButtonText:\"Approve ID\",message:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"User will be approved. \"})})})}),/*#__PURE__*/_jsx(Modal,{visible:modalReject,onClickCancel:function onClickCancel(){return setModalReject(false);},onClickOk:onClickReject,pendingApiCall:pendingApiCallReject,title:\"Authentication Confirmation\",okButtonText:\"Reject ID\",message:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"User will be rejected. \"})})})})]});};export default UserAuth;","map":{"version":3,"names":["React","useEffect","useState","getByIdIdentity","useParams","ButtonWithProgress","approveUser","deleteIdentity","Modal","useApiProgress","UserAuth","props","idNumber","identity","setIdentity","modalVisible","setModalVisible","modalReject","setModalReject","loadPage","response","data","console","log","undefined","onClickConfirm","history","push","onClickReject","pendingApiCall","pendingApiCallReject","background","imageId","id"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Components/UserAuth.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getByIdIdentity } from '../Api/ApiCalls';\r\nimport { useParams } from 'react-router-dom';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\nimport { approveUser, deleteIdentity } from '../Api/ApiCalls';\r\nimport Modal from './Modal';\r\nimport { useApiProgress } from '../Shared/ApiProgress';\r\n\r\n\r\nconst UserAuth = (props) => {\r\n\r\n    const { idNumber } = useParams();\r\n    const [identity, setIdentity] = useState();\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [modalReject, setModalReject] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadPage();\r\n    }, []);\r\n\r\n    const loadPage = async () => {\r\n        try {\r\n            const response = await getByIdIdentity(idNumber);\r\n            setIdentity(response.data);\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n            setIdentity(undefined);\r\n        }\r\n    }\r\n\r\n    const onClickConfirm = async () => {\r\n        try {\r\n            const response = await approveUser(idNumber);\r\n            console.log(response);\r\n            props.history.push('/admin')\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n\r\n    const onClickReject = async () => {\r\n        try {\r\n            await deleteIdentity(idNumber);\r\n            props.history.push('/admin')\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n    const pendingApiCall = useApiProgress('put', `/users/update/${idNumber}`);\r\n    const pendingApiCallReject = useApiProgress('delete', `/identity/user/${idNumber}`);\r\n\r\n    return (\r\n        <div className='container card' style={{ background: '#f3f5f5' }}>\r\n            <h2 className='text-center card-header'>User ID Authentication</h2>\r\n            <div className='card-body'>\r\n                {identity && <img className='img-thumbnail' width=\"600\" height=\"600\"\r\n                    src={'/images/identity/' + identity.imageId} alt={identity.id} />}\r\n                <br /><br />\r\n                <h4>ID Number =  {identity && identity.idNumber} </h4>\r\n                <hr />\r\n\r\n                <ButtonWithProgress onClick={() => setModalVisible(true)} text='Confirm User' className='my-4 btn btn-success' />\r\n                <ButtonWithProgress onClick={() => setModalReject(true)} text='Reject' className='my-4 btn btn-danger ml-5' />\r\n            </div>\r\n            <Modal visible={modalVisible}\r\n                onClickCancel={() => setModalVisible(false)}\r\n                onClickOk={onClickConfirm}\r\n                pendingApiCall={pendingApiCall}\r\n                title='Authentication Confirmation'\r\n                okButtonText='Approve ID'\r\n                message={\r\n                    <div>\r\n                        <div>\r\n                            <strong>User will be approved. </strong>\r\n                        </div>\r\n                    </div>\r\n                } />\r\n            <Modal visible={modalReject}\r\n                onClickCancel={() => setModalReject(false)}\r\n                onClickOk={onClickReject}\r\n                pendingApiCall={pendingApiCallReject}\r\n                title='Authentication Confirmation'\r\n                okButtonText='Reject ID'\r\n                message={\r\n                    <div>\r\n                        <div>\r\n                            <strong>User will be rejected. </strong>\r\n                        </div>\r\n                    </div>\r\n                } />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserAuth;"],"mappings":"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"},"metadata":{},"sourceType":"module"}