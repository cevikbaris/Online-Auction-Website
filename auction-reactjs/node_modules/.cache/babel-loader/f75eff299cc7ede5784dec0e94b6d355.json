{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Input from'../Components/Input';import ButtonWithProgress from'../Components/ButtonWithProgress';import{useApiProgress}from'../Shared/ApiProgress';import{signupHandler}from'../Redux/Actions';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import'./loginPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpPage=function SignUpPage(props){var _useState=useState({name:null,username:null,email:null,password:null,passwordRepeat:null}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setError=_useState4[1];var dispatch=useDispatch();var signupApiCall=useApiProgress('post','/users',true);;var loginApiCall=useApiProgress('post','/api/1.0/auth');var pendingApiCall=signupApiCall||loginApiCall;var onChange=function onChange(event){//event.target.name => name attribute of the input\n//event.target.value => value of the input\nvar _event$target=event.target,name=_event$target.name,value=_event$target.value;setError(function(previousError){return _objectSpread(_objectSpread({},previousError),{},_defineProperty({},name,undefined));});setForm(function(previousForm){return _objectSpread(_objectSpread({},previousForm),{},_defineProperty({},name,value));});};var onClickSignup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var name,username,password,email,body,history,push,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();name=form.name,username=form.username,password=form.password,email=form.email;body={name:name,email:email,username:username,password:password};history=props.history;push=history.push;_context.prev=5;_context.next=8;return dispatch(signupHandler(body));case 8:response=_context.sent;push('/');_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](5);if(_context.t0.response.data.validationErrors){setError(_context.t0.response.data.validationErrors);//back end den gelen validation error mapının value sunu alıcaz\n}case 15:case\"end\":return _context.stop();}}},_callee,null,[[5,12]]);}));return function onClickSignup(_x){return _ref.apply(this,arguments);};}();var passwordError=errors.password,nameError=errors.name,usernameError=errors.username,emailError=errors.email;var passwordRepeatError;if(form.password!==form.passwordRepeat){passwordRepeatError='Password mismatch';}// <div className='container'>\n//     <form>\n//         <h1 className='text-center'>Sign Up</h1>\n//         <Input name='name' label='Name Surname' error={nameError} onChange={onChange} />\n//         <Input name='username' label='Username' error={usernameError} onChange={onChange} />\n//         <Input name='email' label='Email' error={emailError} onChange={onChange} type='email' />\n//         <Input name='password' label='Password' error={passwordError} onChange={onChange} type='password' />\n//         <Input name='passwordRepeat' label='Password Repeat' error={passwordRepeatError} onChange={onChange} type='password' />\n//         <div className='text-center'>\n//             <ButtonWithProgress\n//                 onClick={onClickSignup}\n//                 disabled={passwordRepeatError !== undefined || pendingApiCall}\n//                 pendingApiCall={pendingApiCall}\n//                 text='Sign Up'\n//             />\n//         </div>\n//     </form>\n// </div>\nreturn/*#__PURE__*/_jsx(\"div\",{className:\" gradient-custom\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-4  h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center align-items-center h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-8 col-lg-6 col-xl-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-dark text-white\",style:{\"border-radius\":\"1rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-5 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-md-5 mt-md-4 pb-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold mb-2 text-uppercase\",children:\"Sign up\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white-50 mb-5\",children:\"Please enter informations!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline form-white mb-4\",children:/*#__PURE__*/_jsx(Input,{name:\"name\",label:\"Name Surname\",error:nameError,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline form-white mb-4\",children:/*#__PURE__*/_jsx(Input,{name:\"username\",label:\"Username\",error:usernameError,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline form-white mb-4\",children:/*#__PURE__*/_jsx(Input,{name:\"email\",label:\"Email\",error:emailError,onChange:onChange,type:\"email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline form-white mb-4\",children:/*#__PURE__*/_jsx(Input,{name:\"password\",label:\"Password\",error:passwordError,onChange:onChange,type:\"password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline form-white mb-4\",children:/*#__PURE__*/_jsx(Input,{name:\"passwordRepeat\",label:\"Password Repeat\",error:passwordRepeatError,onChange:onChange,type:\"password\"})}),/*#__PURE__*/_jsx(ButtonWithProgress,{onClick:onClickSignup,disabled:passwordRepeatError!==undefined||pendingApiCall,pendingApiCall:pendingApiCall,text:\"Sign Up\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"Do you have account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-white-50 fw-bold\",children:\"Login\"})]})})]})})})})})});};export default SignUpPage;","map":{"version":3,"names":["React","useState","Input","ButtonWithProgress","useApiProgress","signupHandler","useDispatch","useSelector","Link","SignUpPage","props","name","username","email","password","passwordRepeat","form","setForm","errors","setError","dispatch","signupApiCall","loginApiCall","pendingApiCall","onChange","event","target","value","previousError","undefined","previousForm","onClickSignup","e","preventDefault","body","history","push","response","data","validationErrors","passwordError","nameError","usernameError","emailError","passwordRepeatError"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Pages/SignUpPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Input from '../Components/Input';\r\nimport ButtonWithProgress from '../Components/ButtonWithProgress';\r\nimport { useApiProgress } from '../Shared/ApiProgress';\r\nimport { signupHandler } from '../Redux/Actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport './loginPage.css'\r\n\r\nconst SignUpPage = (props) => {\r\n\r\n    const [form, setForm] = useState({\r\n        name: null,\r\n        username: null,\r\n        email: null,\r\n        password: null,\r\n        passwordRepeat: null\r\n    });\r\n\r\n    const [errors, setError] = useState({});\r\n    const dispatch = useDispatch();\r\n\r\n    const signupApiCall = useApiProgress('post', '/users', true);;\r\n    const loginApiCall = useApiProgress('post', '/api/1.0/auth');\r\n    const pendingApiCall = signupApiCall || loginApiCall;\r\n\r\n    const onChange = (event) => {\r\n        //event.target.name => name attribute of the input\r\n        //event.target.value => value of the input\r\n        const { name, value } = event.target;\r\n\r\n        setError((previousError) => ({ ...previousError, [name]: undefined }));\r\n\r\n        setForm((previousForm) => ({ ...previousForm, [name]: value }));\r\n    }\r\n\r\n    const onClickSignup = async (e) => {\r\n        e.preventDefault();\r\n        const { name, username, password, email } = form;\r\n        const body = {\r\n            name,\r\n            email,\r\n            username,\r\n            password\r\n        }\r\n\r\n        const { history } = props;\r\n        const { push } = history;\r\n\r\n        try {\r\n            const response = await dispatch(signupHandler(body));\r\n            push('/');\r\n        } catch (error) {\r\n            if (error.response.data.validationErrors) {\r\n                setError(error.response.data.validationErrors);//back end den gelen validation error mapının value sunu alıcaz\r\n            }\r\n        }\r\n    }\r\n\r\n    const { password: passwordError, name: nameError, username: usernameError, email: emailError } = errors;\r\n\r\n    let passwordRepeatError;\r\n    if (form.password !== form.passwordRepeat) {\r\n        passwordRepeatError = 'Password mismatch';\r\n    }\r\n\r\n\r\n\r\n    // <div className='container'>\r\n    //     <form>\r\n    //         <h1 className='text-center'>Sign Up</h1>\r\n\r\n    //         <Input name='name' label='Name Surname' error={nameError} onChange={onChange} />\r\n\r\n    //         <Input name='username' label='Username' error={usernameError} onChange={onChange} />\r\n\r\n    //         <Input name='email' label='Email' error={emailError} onChange={onChange} type='email' />\r\n\r\n    //         <Input name='password' label='Password' error={passwordError} onChange={onChange} type='password' />\r\n\r\n    //         <Input name='passwordRepeat' label='Password Repeat' error={passwordRepeatError} onChange={onChange} type='password' />\r\n    //         <div className='text-center'>\r\n    //             <ButtonWithProgress\r\n    //                 onClick={onClickSignup}\r\n    //                 disabled={passwordRepeatError !== undefined || pendingApiCall}\r\n    //                 pendingApiCall={pendingApiCall}\r\n    //                 text='Sign Up'\r\n    //             />\r\n    //         </div>\r\n    //     </form>\r\n    // </div>\r\n\r\n    return (\r\n\r\n        <div className=\" gradient-custom\">\r\n            <div className=\"container py-4  h-100\">\r\n                <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n                    <div className=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n                        <div className=\"card bg-dark text-white\" style={{ \"border-radius\": \"1rem\" }} >\r\n                            <div className=\"card-body p-5 text-center\">\r\n\r\n                                <div className=\"mb-md-5 mt-md-4 pb-5\">\r\n\r\n                                    <h2 className=\"fw-bold mb-2 text-uppercase\">Sign up</h2>\r\n                                    <p className=\"text-white-50 mb-5\">Please enter informations!</p>\r\n\r\n                                    <div className=\"form-outline form-white mb-4\">\r\n                                        <Input name='name' label='Name Surname' error={nameError} onChange={onChange} />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-outline form-white mb-4\">\r\n                                        <Input name='username' label='Username' error={usernameError} onChange={onChange} />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-outline form-white mb-4\">\r\n                                        <Input name='email' label='Email' error={emailError} onChange={onChange} type='email' />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-outline form-white mb-4\">\r\n                                        <Input name='password' label='Password' error={passwordError} onChange={onChange} type='password' />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-outline form-white mb-4\">\r\n                                        <Input name='passwordRepeat' label='Password Repeat' error={passwordRepeatError} onChange={onChange} type='password' />\r\n\r\n                                    </div>\r\n\r\n\r\n                                    <ButtonWithProgress\r\n                                        onClick={onClickSignup}\r\n                                        disabled={passwordRepeatError !== undefined || pendingApiCall}\r\n                                        pendingApiCall={pendingApiCall}\r\n                                        text='Sign Up'\r\n                                    />\r\n\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p className=\"mb-0\">Do you have account? <Link to='/login' className=\"text-white-50 fw-bold\">Login</Link>\r\n                                    </p>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUpPage;"],"mappings":"mnBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,MAAP,KAAkB,qBAAlB,CACA,MAAOC,mBAAP,KAA+B,kCAA/B,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,iBAAP,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,KAAD,CAAW,CAE1B,cAAwBT,QAAQ,CAAC,CAC7BU,IAAI,CAAE,IADuB,CAE7BC,QAAQ,CAAE,IAFmB,CAG7BC,KAAK,CAAE,IAHsB,CAI7BC,QAAQ,CAAE,IAJmB,CAK7BC,cAAc,CAAE,IALa,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAQA,eAA2BhB,QAAQ,CAAC,EAAD,CAAnC,yCAAOiB,MAAP,eAAeC,QAAf,eACA,GAAMC,SAAQ,CAAGd,WAAW,EAA5B,CAEA,GAAMe,cAAa,CAAGjB,cAAc,CAAC,MAAD,CAAS,QAAT,CAAmB,IAAnB,CAApC,CAA6D,CAC7D,GAAMkB,aAAY,CAAGlB,cAAc,CAAC,MAAD,CAAS,eAAT,CAAnC,CACA,GAAMmB,eAAc,CAAGF,aAAa,EAAIC,YAAxC,CAEA,GAAME,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CACxB;AACA;AACA,kBAAwBA,KAAK,CAACC,MAA9B,CAAQf,IAAR,eAAQA,IAAR,CAAcgB,KAAd,eAAcA,KAAd,CAEAR,QAAQ,CAAC,SAACS,aAAD,wCAAyBA,aAAzB,wBAAyCjB,IAAzC,CAAgDkB,SAAhD,IAAD,CAAR,CAEAZ,OAAO,CAAC,SAACa,YAAD,wCAAwBA,YAAxB,wBAAuCnB,IAAvC,CAA8CgB,KAA9C,IAAD,CAAP,CACH,CARD,CAUA,GAAMI,cAAa,4FAAG,iBAAOC,CAAP,gLAClBA,CAAC,CAACC,cAAF,GACQtB,IAFU,CAE0BK,IAF1B,CAEVL,IAFU,CAEJC,QAFI,CAE0BI,IAF1B,CAEJJ,QAFI,CAEME,QAFN,CAE0BE,IAF1B,CAEMF,QAFN,CAEgBD,KAFhB,CAE0BG,IAF1B,CAEgBH,KAFhB,CAGZqB,IAHY,CAGL,CACTvB,IAAI,CAAJA,IADS,CAETE,KAAK,CAALA,KAFS,CAGTD,QAAQ,CAARA,QAHS,CAITE,QAAQ,CAARA,QAJS,CAHK,CAUVqB,OAVU,CAUEzB,KAVF,CAUVyB,OAVU,CAWVC,IAXU,CAWDD,OAXC,CAWVC,IAXU,uCAcShB,SAAQ,CAACf,aAAa,CAAC6B,IAAD,CAAd,CAdjB,QAcRG,QAdQ,eAedD,IAAI,CAAC,GAAD,CAAJ,CAfc,iFAiBd,GAAI,YAAMC,QAAN,CAAeC,IAAf,CAAoBC,gBAAxB,CAA0C,CACtCpB,QAAQ,CAAC,YAAMkB,QAAN,CAAeC,IAAf,CAAoBC,gBAArB,CAAR,CAA+C;AAClD,CAnBa,qEAAH,kBAAbR,cAAa,4CAAnB,CAuBA,GAAkBS,cAAlB,CAAiGtB,MAAjG,CAAQJ,QAAR,CAAuC2B,SAAvC,CAAiGvB,MAAjG,CAAiCP,IAAjC,CAA4D+B,aAA5D,CAAiGxB,MAAjG,CAAkDN,QAAlD,CAAkF+B,UAAlF,CAAiGzB,MAAjG,CAA2EL,KAA3E,CAEA,GAAI+B,oBAAJ,CACA,GAAI5B,IAAI,CAACF,QAAL,GAAkBE,IAAI,CAACD,cAA3B,CAA2C,CACvC6B,mBAAmB,CAAG,mBAAtB,CACH,CAID;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBAEI,YAAK,SAAS,CAAC,kBAAf,uBACI,YAAK,SAAS,CAAC,uBAAf,uBACI,YAAK,SAAS,CAAC,4DAAf,uBACI,YAAK,SAAS,CAAC,mCAAf,uBACI,YAAK,SAAS,CAAC,yBAAf,CAAyC,KAAK,CAAE,CAAE,gBAAiB,MAAnB,CAAhD,uBACI,aAAK,SAAS,CAAC,2BAAf,wBAEI,aAAK,SAAS,CAAC,sBAAf,wBAEI,WAAI,SAAS,CAAC,6BAAd,qBAFJ,cAGI,UAAG,SAAS,CAAC,oBAAb,wCAHJ,cAKI,YAAK,SAAS,CAAC,8BAAf,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,KAAK,CAAEH,SAA/C,CAA0D,QAAQ,CAAEjB,QAApE,EADJ,EALJ,cASI,YAAK,SAAS,CAAC,8BAAf,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAC,UAA7B,CAAwC,KAAK,CAAEkB,aAA/C,CAA8D,QAAQ,CAAElB,QAAxE,EADJ,EATJ,cAaI,YAAK,SAAS,CAAC,8BAAf,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAC,OAA1B,CAAkC,KAAK,CAAEmB,UAAzC,CAAqD,QAAQ,CAAEnB,QAA/D,CAAyE,IAAI,CAAC,OAA9E,EADJ,EAbJ,cAiBI,YAAK,SAAS,CAAC,8BAAf,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAC,UAA7B,CAAwC,KAAK,CAAEgB,aAA/C,CAA8D,QAAQ,CAAEhB,QAAxE,CAAkF,IAAI,CAAC,UAAvF,EADJ,EAjBJ,cAqBI,YAAK,SAAS,CAAC,8BAAf,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,gBAAZ,CAA6B,KAAK,CAAC,iBAAnC,CAAqD,KAAK,CAAEoB,mBAA5D,CAAiF,QAAQ,CAAEpB,QAA3F,CAAqG,IAAI,CAAC,UAA1G,EADJ,EArBJ,cA2BI,KAAC,kBAAD,EACI,OAAO,CAAEO,aADb,CAEI,QAAQ,CAAEa,mBAAmB,GAAKf,SAAxB,EAAqCN,cAFnD,CAGI,cAAc,CAAEA,cAHpB,CAII,IAAI,CAAC,SAJT,EA3BJ,GAFJ,cAsCI,kCACI,WAAG,SAAS,CAAC,MAAb,gDAAyC,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,uBAA5B,mBAAzC,GADJ,EAtCJ,GADJ,EADJ,EADJ,EADJ,EADJ,EAFJ,CAyDH,CA5ID,CA8IA,cAAed,WAAf"},"metadata":{},"sourceType":"module"}