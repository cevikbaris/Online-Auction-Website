{"ast":null,"code":"import * as ACTIONS from './Constants';\nimport { login, signup } from '../Api/ApiCalls';\nexport const logoutSuccess = () => {\n  return {\n    type: ACTIONS.LOGOUT_SUCCESS\n  };\n};\nexport const loginSuccess = authState => {\n  return {\n    type: ACTIONS.LOGIN_SUCCESS,\n    payload: authState\n  };\n};\nexport const loginHandler = creds => {\n  return async function (dispatch) {\n    console.log(\"creds\", creds);\n    const response = await login(creds); //api process\n\n    const authState = { //basic auth\n      ...response.data,\n      //username,fullname,image,email\n      password: creds.password //response de gelmiyor\n\n    };\n    console.log(\"authstate : \", authState);\n    dispatch(loginSuccess(authState));\n    return response;\n  };\n};\nexport const signupHandler = user => {\n  return async function (dispatch) {\n    console.log(user);\n    const response = await signup(user); //api process\n\n    console.log(\"sigunp response :\");\n    console.log(response);\n    const newUser = { ...user,\n      username: user.email\n    };\n    console.log(newUser);\n    await dispatch(loginHandler(newUser));\n    return response;\n  };\n};\nexport const updateSuccess = _ref => {\n  let {\n    displayName,\n    image\n  } = _ref;\n  return {\n    type: ACTIONS.UPDATE_SUCCESS,\n    payload: {\n      displayName,\n      image\n    }\n  };\n};","map":{"version":3,"names":["ACTIONS","login","signup","logoutSuccess","type","LOGOUT_SUCCESS","loginSuccess","authState","LOGIN_SUCCESS","payload","loginHandler","creds","dispatch","console","log","response","data","password","signupHandler","user","newUser","username","email","updateSuccess","displayName","image","UPDATE_SUCCESS"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Redux/Actions.js"],"sourcesContent":["import * as ACTIONS from './Constants'\r\nimport { login, signup } from '../Api/ApiCalls';\r\n\r\nexport const logoutSuccess = () => {\r\n    return {\r\n        type: ACTIONS.LOGOUT_SUCCESS\r\n    }\r\n};\r\n\r\nexport const loginSuccess = (authState) => {\r\n    return {\r\n        type: ACTIONS.LOGIN_SUCCESS,\r\n        payload: authState\r\n    }\r\n}\r\n\r\nexport const loginHandler = (creds) => {\r\n    return async function (dispatch) {\r\n        console.log(\"creds\", creds);\r\n        const response = await login(creds);  //api process\r\n        \r\n        const authState = {\r\n            //basic auth\r\n            ...response.data,//username,fullname,image,email\r\n            password: creds.password//response de gelmiyor\r\n\r\n        }\r\n        console.log(\"authstate : \", authState);\r\n        dispatch(loginSuccess(authState));\r\n        return response;\r\n    }\r\n}\r\n\r\nexport const signupHandler = (user) => {\r\n    return async function (dispatch) {\r\n        console.log(user)\r\n\r\n        const response = await signup(user);  //api process\r\n\r\n        console.log(\"sigunp response :\");\r\n        console.log(response);\r\n\r\n        const newUser = { ...user, username: user.email };\r\n        console.log(newUser)\r\n        await dispatch(loginHandler(newUser))\r\n        \r\n        return response;\r\n    }\r\n}\r\n\r\nexport const updateSuccess = ({ displayName, image }) => {\r\n    return {\r\n        type: ACTIONS.UPDATE_SUCCESS,\r\n        payload: { displayName, image }\r\n    }\r\n}"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,aAAzB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,iBAA9B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;EAC/B,OAAO;IACHC,IAAI,EAAEJ,OAAO,CAACK;EADX,CAAP;AAGH,CAJM;AAMP,OAAO,MAAMC,YAAY,GAAIC,SAAD,IAAe;EACvC,OAAO;IACHH,IAAI,EAAEJ,OAAO,CAACQ,aADX;IAEHC,OAAO,EAAEF;EAFN,CAAP;AAIH,CALM;AAOP,OAAO,MAAMG,YAAY,GAAIC,KAAD,IAAW;EACnC,OAAO,gBAAgBC,QAAhB,EAA0B;IAC7BC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,KAArB;IACA,MAAMI,QAAQ,GAAG,MAAMd,KAAK,CAACU,KAAD,CAA5B,CAF6B,CAES;;IAEtC,MAAMJ,SAAS,GAAG,EACd;MACA,GAAGQ,QAAQ,CAACC,IAFE;MAEG;MACjBC,QAAQ,EAAEN,KAAK,CAACM,QAHF,CAGU;;IAHV,CAAlB;IAMAJ,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BP,SAA5B;IACAK,QAAQ,CAACN,YAAY,CAACC,SAAD,CAAb,CAAR;IACA,OAAOQ,QAAP;EACH,CAbD;AAcH,CAfM;AAiBP,OAAO,MAAMG,aAAa,GAAIC,IAAD,IAAU;EACnC,OAAO,gBAAgBP,QAAhB,EAA0B;IAC7BC,OAAO,CAACC,GAAR,CAAYK,IAAZ;IAEA,MAAMJ,QAAQ,GAAG,MAAMb,MAAM,CAACiB,IAAD,CAA7B,CAH6B,CAGS;;IAEtCN,OAAO,CAACC,GAAR,CAAY,mBAAZ;IACAD,OAAO,CAACC,GAAR,CAAYC,QAAZ;IAEA,MAAMK,OAAO,GAAG,EAAE,GAAGD,IAAL;MAAWE,QAAQ,EAAEF,IAAI,CAACG;IAA1B,CAAhB;IACAT,OAAO,CAACC,GAAR,CAAYM,OAAZ;IACA,MAAMR,QAAQ,CAACF,YAAY,CAACU,OAAD,CAAb,CAAd;IAEA,OAAOL,QAAP;EACH,CAbD;AAcH,CAfM;AAiBP,OAAO,MAAMQ,aAAa,GAAG,QAA4B;EAAA,IAA3B;IAAEC,WAAF;IAAeC;EAAf,CAA2B;EACrD,OAAO;IACHrB,IAAI,EAAEJ,OAAO,CAAC0B,cADX;IAEHjB,OAAO,EAAE;MAAEe,WAAF;MAAeC;IAAf;EAFN,CAAP;AAIH,CALM"},"metadata":{},"sourceType":"module"}