{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/bar1s/Desktop/react/auction/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import ProfileCard from'../Components/ProfileCard';import{getUser}from'../Api/ApiCalls';import{useParams}from'react-router-dom';import{useApiProgress}from'../Shared/ApiProgress';import Spinner from'../Components/Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserPage=function UserPage(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),notFound=_useState4[0],setNotFound=_useState4[1];var _useParams=useParams(),username=_useParams.username;// props.match.params;\nvar pendingApiCall=useApiProgress('get','/users/'+username,true);useEffect(function(){setNotFound(false);},[user]);useEffect(function(){var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getUser(username);case 3:response=_context.sent;setUser(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setNotFound(true);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function loadUser(){return _ref.apply(this,arguments);};}();loadUser();},[username]);//url parameter \nif(notFound){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger text-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",style:{fontSize:'48px'},children:\"error\"})}),\"User not found\"]})});}if(pendingApiCall||user.username!==username){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(ProfileCard,{user:user})});};export default UserPage;","map":{"version":3,"names":["React","useEffect","useState","ProfileCard","getUser","useParams","useApiProgress","Spinner","UserPage","props","user","setUser","notFound","setNotFound","username","pendingApiCall","loadUser","response","data","fontSize"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Pages/UserPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ProfileCard from '../Components/ProfileCard';\r\nimport { getUser } from '../Api/ApiCalls';\r\nimport {useParams} from 'react-router-dom';\r\nimport { useApiProgress } from '../Shared/ApiProgress';\r\nimport Spinner from '../Components/Spinner';\r\n\r\nconst UserPage = props => {\r\n\r\n  const [user, setUser] = useState({});\r\n  const [notFound, setNotFound] = useState(false);\r\n  const { username } = useParams();  // props.match.params;\r\n  const pendingApiCall = useApiProgress('get', '/users/' + username, true);\r\n\r\n  useEffect(() => {\r\n    setNotFound(false);\r\n  }, [user])\r\n\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      try {\r\n        const response = await getUser(username);\r\n        setUser(response.data);\r\n      }\r\n      catch (error) {\r\n        setNotFound(true);\r\n      }\r\n    }\r\n    loadUser();\r\n  }, [username]); //url parameter \r\n\r\n\r\n  if (notFound) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"alert alert-danger text-center\">\r\n          <div>\r\n            <i className=\"material-icons\" style={{ fontSize: '48px' }}>\r\n              error\r\n            </i>\r\n          </div>\r\n          User not found\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (pendingApiCall || user.username !== username) {\r\n    return <Spinner />\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <ProfileCard user={user} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPage;"],"mappings":"8XAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,YAAP,KAAwB,2BAAxB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,MAAOC,QAAP,KAAoB,uBAApB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAAAC,KAAK,CAAI,CAExB,cAAwBP,QAAQ,CAAC,EAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,eAAgCT,QAAQ,CAAC,KAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAqBR,SAAS,EAA9B,CAAQS,QAAR,YAAQA,QAAR,CAAmC;AACnC,GAAMC,eAAc,CAAGT,cAAc,CAAC,KAAD,CAAQ,UAAYQ,QAApB,CAA8B,IAA9B,CAArC,CAEAb,SAAS,CAAC,UAAM,CACdY,WAAW,CAAC,KAAD,CAAX,CACD,CAFQ,CAEN,CAACH,IAAD,CAFM,CAAT,CAIAT,SAAS,CAAC,UAAM,CACd,GAAMe,SAAQ,4FAAG,wLAEUZ,QAAO,CAACU,QAAD,CAFjB,QAEPG,QAFO,eAGbN,OAAO,CAACM,QAAQ,CAACC,IAAV,CAAP,CAHa,+EAMbL,WAAW,CAAC,IAAD,CAAX,CANa,oEAAH,kBAARG,SAAQ,0CAAd,CASAA,QAAQ,GACT,CAXQ,CAWN,CAACF,QAAD,CAXM,CAAT,CAWgB;AAGhB,GAAIF,QAAJ,CAAc,CACZ,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,gCAAf,wBACE,kCACE,UAAG,SAAS,CAAC,gBAAb,CAA8B,KAAK,CAAE,CAAEO,QAAQ,CAAE,MAAZ,CAArC,mBADF,EADF,oBADF,EADF,CAYD,CAED,GAAIJ,cAAc,EAAIL,IAAI,CAACI,QAAL,GAAkBA,QAAxC,CAAkD,CAChD,mBAAO,KAAC,OAAD,IAAP,CACD,CAGD,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,KAAC,WAAD,EAAa,IAAI,CAAEJ,IAAnB,EADF,EADF,CAKD,CAlDD,CAoDA,cAAeF,SAAf"},"metadata":{},"sourceType":"module"}