{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bar1s\\\\Desktop\\\\react\\\\auction\\\\src\\\\Pages\\\\SignUpPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Input from '../Components/Input';\nimport ButtonWithProgress from '../Components/ButtonWithProgress';\nimport { useApiProgress } from '../Shared/ApiProgress';\nimport { signupHandler } from '../Redux/Actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUpPage = props => {\n  _s();\n\n  const [form, setForm] = useState({\n    name: null,\n    username: null,\n    password: null,\n    passwordRepeat: null\n  });\n  const [errors, setError] = useState({});\n  const dispatch = useDispatch();\n  const signupApiCall = useApiProgress('post', '/users', true);\n  ;\n  const loginApiCall = useApiProgress('post', '/api/1.0/auth');\n  const pendingApiCall = signupApiCall || loginApiCall;\n\n  const onChange = event => {\n    //event.target.name => name attribute of the input\n    //event.target.value => value of the input\n    const {\n      name,\n      value\n    } = event.target;\n    setError(previousError => ({ ...previousError,\n      [name]: undefined\n    }));\n    setForm(previousForm => ({ ...previousForm,\n      [name]: value\n    }));\n  };\n\n  const onClickSignup = async e => {\n    e.preventDefault();\n    const {\n      name,\n      username,\n      password\n    } = form;\n    const body = {\n      name,\n      username,\n      password\n    };\n    const {\n      history\n    } = props;\n    const {\n      push\n    } = history;\n\n    try {\n      dispatch(signupHandler(body));\n      push('/');\n    } catch (error) {\n      if (error.response.data.validationErrors) {\n        setError(error.response.data.validationErrors); //back end den gelen validation error mapının value sunu alıcaz\n      }\n    }\n  };\n\n  const {\n    password: passwordError,\n    name: nameError,\n    surname: surnameError,\n    email: emailError\n  } = errors;\n  let passwordRepeatError;\n\n  if (form.password !== form.passwordRepeat) {\n    passwordRepeatError = 'Password mismatch';\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"name\",\n        label: \"Fullname\",\n        error: nameError,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"username\",\n        label: \"Email\",\n        error: emailError,\n        onChange: onChange,\n        type: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"password\",\n        label: \"Password\",\n        error: passwordError,\n        onChange: onChange,\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"passwordRepeat\",\n        label: \"Password Repeat\",\n        error: passwordRepeatError,\n        onChange: onChange,\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(ButtonWithProgress, {\n          onClick: onClickSignup,\n          disabled: passwordRepeatError !== undefined || pendingApiCall,\n          pendingApiCall: pendingApiCall,\n          text: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignUpPage, \"nMQtoAaQdgP3BJ+EmhghA7Dn8O4=\", false, function () {\n  return [useDispatch, useApiProgress, useApiProgress];\n});\n\n_c = SignUpPage;\nexport default SignUpPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpPage\");","map":{"version":3,"names":["React","useState","Input","ButtonWithProgress","useApiProgress","signupHandler","useDispatch","useSelector","SignUpPage","props","form","setForm","name","username","password","passwordRepeat","errors","setError","dispatch","signupApiCall","loginApiCall","pendingApiCall","onChange","event","value","target","previousError","undefined","previousForm","onClickSignup","e","preventDefault","body","history","push","error","response","data","validationErrors","passwordError","nameError","surname","surnameError","email","emailError","passwordRepeatError"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Pages/SignUpPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Input from '../Components/Input';\r\nimport ButtonWithProgress from '../Components/ButtonWithProgress';\r\nimport { useApiProgress } from '../Shared/ApiProgress';\r\nimport { signupHandler } from '../Redux/Actions';\r\nimport {useDispatch,useSelector} from 'react-redux';\r\n\r\nconst SignUpPage = (props) => {\r\n\r\n    const [form, setForm] = useState({\r\n        name: null,\r\n        username: null,\r\n        password: null,\r\n        passwordRepeat: null\r\n    });\r\n\r\n    const [errors, setError] = useState({});\r\n    const dispatch = useDispatch();\r\n\r\n    const signupApiCall = useApiProgress('post', '/users', true);;\r\n    const loginApiCall =useApiProgress('post','/api/1.0/auth');\r\n    const pendingApiCall= signupApiCall || loginApiCall; \r\n\r\n    const onChange = (event) => {\r\n        //event.target.name => name attribute of the input\r\n        //event.target.value => value of the input\r\n        const { name, value } = event.target;\r\n\r\n        setError((previousError) => ({ ...previousError, [name]: undefined }));\r\n\r\n        setForm((previousForm) => ({ ...previousForm, [name]: value }));\r\n    }\r\n\r\n    const onClickSignup = async (e) => {\r\n        e.preventDefault();\r\n        const { name, username, password } = form;\r\n        const body = {\r\n            name,\r\n            username,\r\n            password\r\n        }\r\n\r\n        const { history } = props;\r\n        const { push } = history;\r\n\r\n        try {\r\n            dispatch(signupHandler(body));\r\n            push('/');\r\n        } catch (error) {\r\n            if (error.response.data.validationErrors) {\r\n                setError(error.response.data.validationErrors);//back end den gelen validation error mapının value sunu alıcaz\r\n            }\r\n        }\r\n    }\r\n\r\n    const { password: passwordError, name: nameError, surname: surnameError, email: emailError } = errors;\r\n\r\n    let passwordRepeatError;\r\n    if (form.password !== form.passwordRepeat) {\r\n        passwordRepeatError = 'Password mismatch';\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='container'>\r\n            <form>\r\n                <h1 className='text-center'>Sign Up</h1>\r\n                <Input name='name' label='Fullname' error={nameError} onChange={onChange} />\r\n\r\n                <Input name='username' label='Email' error={emailError} onChange={onChange} type='email' />\r\n\r\n                <Input name='password' label='Password' error={passwordError} onChange={onChange} type='password' />\r\n\r\n                <Input name='passwordRepeat' label='Password Repeat' error={passwordRepeatError} onChange={onChange} type='password' />\r\n                <div className='text-center'>\r\n                    <ButtonWithProgress\r\n                        onClick={onClickSignup}\r\n                        disabled={passwordRepeatError !== undefined || pendingApiCall}\r\n                        pendingApiCall={pendingApiCall}\r\n                        text='Sign Up'\r\n                    />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUpPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}