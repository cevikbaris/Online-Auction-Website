{"ast":null,"code":"import * as ACTIONS from './Constants';\nimport { login, signup } from '../Api/ApiCalls';\nexport const logoutSuccess = () => {\n  return {\n    type: ACTIONS.LOGOUT_SUCCESS\n  };\n};\nexport const loginSuccess = authState => {\n  return {\n    type: ACTIONS.LOGIN_SUCCESS,\n    payload: authState\n  };\n};\nexport const loginHandler = creds => {\n  return async function (dispatch) {\n    const response = await login(creds); //api process\n\n    const authState = { //basic auth\n      ...response.data,\n      //username,fullname,image,email\n      password: creds.password,\n      //response de gelmiyor\n      roles: response.data.roles\n    };\n    dispatch(loginSuccess(authState));\n    return response;\n  };\n};\nexport const signupHandler = user => {\n  return async function (dispatch) {\n    const response = await signup(user); //api process\n\n    await dispatch(loginHandler(user));\n    return response;\n  };\n};\nexport const updateSuccess = _ref => {\n  let {\n    displayName,\n    image\n  } = _ref;\n  return {\n    type: ACTIONS.UPDATE_SUCCESS,\n    payload: {\n      displayName,\n      image\n    }\n  };\n};","map":{"version":3,"names":["ACTIONS","login","signup","logoutSuccess","type","LOGOUT_SUCCESS","loginSuccess","authState","LOGIN_SUCCESS","payload","loginHandler","creds","dispatch","response","data","password","roles","signupHandler","user","updateSuccess","displayName","image","UPDATE_SUCCESS"],"sources":["C:/Users/bar1s/Desktop/react/auction/src/Redux/Actions.js"],"sourcesContent":["import * as ACTIONS from './Constants'\r\nimport { login, signup } from '../Api/ApiCalls';\r\n\r\nexport const logoutSuccess = () => {\r\n    return {\r\n        type: ACTIONS.LOGOUT_SUCCESS\r\n    }\r\n};\r\n\r\nexport const loginSuccess = (authState) => {\r\n    return {\r\n        type: ACTIONS.LOGIN_SUCCESS,\r\n        payload: authState\r\n    }\r\n}\r\n\r\nexport const loginHandler = (creds) => {\r\n    return async function (dispatch) {\r\n        const response = await login(creds);  //api process\r\n        \r\n\r\n        const authState = {\r\n            //basic auth\r\n            ...response.data,//username,fullname,image,email\r\n            password: creds.password,//response de gelmiyor\r\n            roles: response.data.roles\r\n        }\r\n        \r\n        dispatch(loginSuccess(authState));\r\n        return response;\r\n    }\r\n}\r\n\r\nexport const signupHandler = (user) => {\r\n    return async function (dispatch) {\r\n        const response = await signup(user);  //api process\r\n\r\n        \r\n        await dispatch(loginHandler(user))\r\n        return response;\r\n    }\r\n}\r\n\r\nexport const updateSuccess = ({ displayName, image }) => {\r\n    return {\r\n        type: ACTIONS.UPDATE_SUCCESS,\r\n        payload: { displayName, image }\r\n    }\r\n}"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,aAAzB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,iBAA9B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;EAC/B,OAAO;IACHC,IAAI,EAAEJ,OAAO,CAACK;EADX,CAAP;AAGH,CAJM;AAMP,OAAO,MAAMC,YAAY,GAAIC,SAAD,IAAe;EACvC,OAAO;IACHH,IAAI,EAAEJ,OAAO,CAACQ,aADX;IAEHC,OAAO,EAAEF;EAFN,CAAP;AAIH,CALM;AAOP,OAAO,MAAMG,YAAY,GAAIC,KAAD,IAAW;EACnC,OAAO,gBAAgBC,QAAhB,EAA0B;IAC7B,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACU,KAAD,CAA5B,CAD6B,CACS;;IAGtC,MAAMJ,SAAS,GAAG,EACd;MACA,GAAGM,QAAQ,CAACC,IAFE;MAEG;MACjBC,QAAQ,EAAEJ,KAAK,CAACI,QAHF;MAGW;MACzBC,KAAK,EAAEH,QAAQ,CAACC,IAAT,CAAcE;IAJP,CAAlB;IAOAJ,QAAQ,CAACN,YAAY,CAACC,SAAD,CAAb,CAAR;IACA,OAAOM,QAAP;EACH,CAbD;AAcH,CAfM;AAiBP,OAAO,MAAMI,aAAa,GAAIC,IAAD,IAAU;EACnC,OAAO,gBAAgBN,QAAhB,EAA0B;IAC7B,MAAMC,QAAQ,GAAG,MAAMX,MAAM,CAACgB,IAAD,CAA7B,CAD6B,CACS;;IAGtC,MAAMN,QAAQ,CAACF,YAAY,CAACQ,IAAD,CAAb,CAAd;IACA,OAAOL,QAAP;EACH,CAND;AAOH,CARM;AAUP,OAAO,MAAMM,aAAa,GAAG,QAA4B;EAAA,IAA3B;IAAEC,WAAF;IAAeC;EAAf,CAA2B;EACrD,OAAO;IACHjB,IAAI,EAAEJ,OAAO,CAACsB,cADX;IAEHb,OAAO,EAAE;MAAEW,WAAF;MAAeC;IAAf;EAFN,CAAP;AAIH,CALM"},"metadata":{},"sourceType":"module"}